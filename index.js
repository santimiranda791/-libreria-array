let libros = [{
        titulo: "Harry Potter y la piedra filosofal",
        autor: "J.K. Rowling",
        genero: "Fantasía",
        idioma: "Español",
        precio: 20.99,
        formato: "Tapa blanda",
        isbnn: "9788478884450",
        descripcion: "La historia del niño que sobrevivió y su viaje en el mundo de la magia.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "26 de junio de 1997",
        editorial: "Akal",
        paginas: 256,
        dimensiones: [13, 2, 20], // ancho x profundidad x altura
        peso: 350 // gramos
    },
    {
        titulo: "El Señor de los Anillos",
        autor: "J.R.R. Tolkien",
        genero: "Fantasía",
        idioma: "Español",
        precio: 25.99,
        formato: "Tapa dura",
        isbnn: "9788435017941",
        descripcion: "La historia de la búsqueda del Anillo Único.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "29 de julio de 1954",
        editorial: "Akal",
        paginas: 432,
        dimensiones: [15, 3, 24], // ancho x profundidad x altura
        peso: 500 // gramos
    },
    {
        titulo: "El Hobbit",
        autor: "J.R.R. Tolkien",
        genero: "Fantasía",
        idioma: "Español",
        precio: 18.99,
        formato: "Tapa blanda",
        isbnn: "9788435017958",
        descripcion: "La historia de Bilbo Bolsón y su viaje con los enanos.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "21 de septiembre de 1937",
        editorial: "Akal",
        paginas: 320,
        dimensiones: [13, 2, 20], // ancho x profundidad x altura
        peso: 300 // gramos
    },
    {
        titulo: "Cien años de soledad",
        autor: "Gabriel García Márquez",
        genero: "Novela",
        idioma: "Español",
        precio: 22.99,
        formato: "Tapa dura",
        isbnn: "9788420467374",
        descripcion: "La historia de la familia Buendía y su destino.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "5 de mayo de 1967",
        editorial: "Akal",
        paginas: 416,
        dimensiones: [14, 3, 22], // ancho x profundidad x altura
        peso: 450 // gramos
    },
    {
        titulo: "El Alquimista",
        autor: "Paulo Coelho",
        genero: "Ficción",
        idioma: "Español",
        precio: 15.99,
        formato: "Tapa blanda",
        isbnn: "9788478884450",
        descripcion: "La historia de un joven pastor y su búsqueda de sueños.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "12 de septiembre de 1988",
        editorial: "Akal",
        paginas: 224,
        dimensiones: [12, 2, 18], // ancho x profundidad x altura
        peso: 250 // gramos
    },
    {
        titulo: "La Sombra del Viento",
        autor: "Carlos Ruiz Zafón",
        genero: "Novela",
        idioma: "Español",
        precio: 24.99,
        formato: "Tapa dura",
        isbnn: "9788408054447",
        descripcion: "La historia de un joven que encuentra un libro misterioso.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "19 de abril de 2001",
        editorial: "Marcial Pons",
        paginas: 416,
        dimensiones: [15, 3, 24], // ancho x profundidad x altura
        peso: 500 // gramos
    },
    {
        titulo: "El Principito",
        autor: "Antoine de Saint-Exupéry",
        genero: "Ficción",
        idioma: "Español",
        precio: 12.99,
        formato: "Tapa blanda",
        isbnn: "9788432040111",
        descripcion: "La historia de un príncipe que viaja por el espacio.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "6 de abril de 1943",
        editorial: "Marcial Pons",
        paginas: 96,
        dimensiones: [10, 1, 15], // ancho x profundidad x altura
        peso: 150 // gramos
    },
    {
        titulo: "El Amor en los Tiempos del Cólera",
        autor: "Gabriel García Márquez",
        genero: "Novela",
        idioma: "Español",
        precio: 25.99,
        formato: "Tapa dura",
        isbnn: "9788420467381",
        descripcion: "La historia de un amor que dura toda una vida.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "15 de abril de 1985",
        editorial: "Marcial Pons",
        paginas: 464,
        dimensiones: [15, 3, 24], // ancho x profundidad x altura
        peso: 550 // gramos
    },
    {
        titulo: "Cronicas de la Torre",
        autor: "Laura Gallego",
        genero: "Fantasía",
        idioma: "Español",
        precio: 19.99,
        formato: "Tapa blanda",
        isbnn: "9788466655552",
        descripcion: "La historia de un guerrero que debe salvar su reino.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "15 de septiembre de 2006",
        editorial: "Marcial Pons",
        paginas: 400,
        dimensiones: [15, 3, 24], // ancho x profundidad x altura
        peso: 500 // gramos
    },
    {
        titulo: "Alicia en el País de las Maravillas",
        autor: "Lewis Carroll",
        genero: "Ficción",
        idioma: "Español",
        precio: 15.99,
        formato: "Tapa dura",
        isbnn: "9788420484187",
        descripcion: "La historia de una niña que cae por un conejo y descubre un mundo extraño.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "26 de noviembre de 1865",
        editorial: "Marcial Pons",
        paginas: 160,
        dimensiones: [14, 3, 22], // ancho x profundidad x altura
        peso: 350 // gramos
    },
    {
        titulo: "El Gran Gatsby",
        autor: "F. Scott Fitzgerald",
        genero: "Novela",
        idioma: "Español",
        precio: 22.99,
        formato: "Tapa dura",
        isbnn: "9788432240357",
        descripcion: "La historia del millonario Jay Gatsby y su vida de lujos y excesos.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "10 de abril de 1925",
        editorial: "Tirant Lo Blanch",
        paginas: 60,
        dimensiones: [15, 3, 22], // ancho x profundidad x altura
        peso: 300 // gramos
    },
    {
        titulo: "Moby Dick",
        autor: "Herman Melville",
        genero: "Novela",
        idioma: "Español",
        precio: 21.99,
        formato: "Tapa blanda",
        isbnn: "9788435018128",
        descripcion: "La historia de un capitán de barco y su obsesión con una ballena blanca.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "18 de octubre de 1851",
        editorial: "Tirant Lo Blanch",
        paginas: 352,
        dimensiones: [13, 2, 20], // ancho x profundidad x altura
        peso: 375 // gramos
    },
    {
        titulo: "Veinte mil leguas de viaje submarino",
        autor: "Jules Verne",
        genero: "Novela",
        idioma: "Español",
        precio: 19.99,
        formato: "Tapa dura",
        isbnn: "9788499084565",
        descripcion: "La historia de un viaje en un submarino a través de los mares del mundo.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "20 de marzo de 1870",
        editorial: "Tirant Lo Blanch",
        paginas: 90,
        dimensiones: [14, 2, 22], // ancho x profundidad x altura
        peso: 400 // gramos
    },
    {
        titulo: "La Isla del Tesoro",
        autor: "Robert Louis Stevenson",
        genero: "Aventuras",
        idioma: "Español",
        precio: 18.99,
        formato: "Tapa blanda",
        isbnn: "9788466655522",
        descripcion: "La historia de un joven que busca un tesoro en una isla misteriosa.",
        estado: "Nuevo",
        ubicacion: "Librería Mágica",
        fecha_publicacion: "23 de noviembre de 1883",
        editorial: "Tirant Lo Blanch",
        paginas: 240,
        dimensiones: [13, 2, 18], // ancho x profundidad x altura
        peso: 300 // gramos
    },
    {
        titulo: "Las Crónicas de Narnia: El león, la bruja y el armario",
        autor: "C.S. Lewis",
        genero: "Fantasía",
        idioma: "Español",
        precio: 19.99,
        formato: "Tapa blanda",
        isbnn: "9780007115617",
        descripcion: "Cuatro niños descubren un mundo mágico detrás de un armario en una casa de campo.",
        estado: "Nuevo",
        ubicacion: "Librería Lewis",
        fecha_publicacion: "16 de octubre de 1950",
        editorial: "Tirant Lo Blanch",
        paginas: 208,
        dimensiones: [13, 2, 20],
        peso: 350
    },
    {
        titulo: "Orgullo y prejuicio",
        autor: "Jane Austen",
        genero: "Novela romántica",
        idioma: "Español",
        precio: 16.99,
        formato: "Tapa blanda",
        isbnn: "9788491040541",
        descripcion: "La compleja historia de amor entre Elizabeth Bennet y Mr. Darcy en la Inglaterra del siglo XIX.",
        estado: "Nuevo",
        ubicacion: "Librería Austen",
        fecha_publicacion: "28 de enero de 1813",
        editorial: "Alianza",
        paginas: 416,
        dimensiones: [13, 2, 20],
        peso: 430
    },
    {
        titulo: "Los Juegos del Hambre",
        autor: "Suzanne Collins",
        genero: "Ciencia ficción, aventura",
        idioma: "Español",
        precio: 12, // Precio puede variar dependiendo de la edición
        formato: "Libro físico o digital",
        isbnn: "Varía dependiendo de la edición",
        descripcion: "En el distópico país de Panem, Katniss Everdeen se ofrece como voluntaria para participar en los Juegos del Hambre en lugar de su hermana menor.",
        estado: "Nuevo",
        ubicacion: "Librerías",
        fecha_publicacion: "2008",
        editorial: "Alianza",
        paginas: 2000,
        dimensiones: {
            ancho: "Varía",
            profundidad: "Varía",
            altura: "Varía"
        },
        peso: {
            valor: "Varía",
            unidad: "gramos o kilogramos"
        }
    },
    {
        titulo: "Los miserables",
        autor: "Victor Hugo",
        genero: "Ficción, Novela histórica",
        idioma: "Español (traducción)",
        precio: 91,
        formato: "Tapa dura, tapa blanda, ebook, entre otros",
        isbnn: "Depende de la edición",
        descripcion: "La historia de Jean Valjean y su lucha por la redención en la Francia del siglo XIX.",
        estado: "Nuevo",
        ubicacion: "Disponible en librerías físicas y tiendas en línea",
        fechaDePublicacion: "Originalmente publicado en 1862",
        editorial: "Alianza",
        paginas: 1500,
        dimensiones: "Depende del formato",
        peso: "Depende del formato"
    },
    {
        titulo: "Crimen y castigo",
        autor: "Fyodor Dostoevsky",
        genero: "Ficción, Novela psicológica",
        idioma: "Español (traducción)",
        precio: 80,
        formato: "Tapa dura, tapa blanda, ebook, entre otros",
        isbnn: "Depende de la edición",
        descripcion: "La historia de un estudiante llamado Raskólnikov que comete un asesinato y enfrenta las consecuencias psicológicas de sus acciones.",
        estado: "Nuevo",
        ubicacion: "Disponible en librerías físicas y tiendas en línea",
        fechaDePublicacion: "Originalmente publicado en 1866",
        editorial: "Alianza",
        paginas: 700,
        dimensiones: "Depende del formato",
        peso: "Depende del formato"
    },
    {
        titulo: "Rayuela",
        autor: "Julio Cortázar",
        genero: "Ficción, Experimental",
        idioma: "Español",
        precio: 100,
        formato: "Tapa dura, tapa blanda, ebook, entre otros",
        isbnn: "Depende de la edición",
        descripcion: "Una novela que desafía las convenciones narrativas tradicionales y presenta múltiples formas de lectura.",
        estado: "Nuevo",
        ubicacion: "Disponible en librerías físicas y tiendas en línea",
        fechaDePublicacion: "Originalmente publicado en 1963",
        editorial: "Alianza",
        paginas: 600,
        dimensiones: "Depende del formato",
        peso: "Depende del formato"
    },
]
let nuevoLiibro = {
    titulo: "El Hijo del Hombre",
    autor: "Oliver Sacks",
    genero: "No ficción",
    idioma: "Español",
    precio: 25.99,
    formato: "Tapa dura",
    isbnn: "9788420467374",
    descripcion: "La historia de un hombre que pierde la memoria y su lucha por recuperarla.",
    estado: "Nuevo",
    ubicacion: "Librería Mágica",
    fecha_publicacion: "5 de mayo de 2023",
    editorial: "Alianza",
    paginas: 416,
    dimensiones: [14, 3, 22], // ancho x profundidad x altura
    peso: 450 // gramos
};
libros.push(nuevoLiibro);
let opcion = 0;
do {
    menu = "Menú: \n \n";
    menu += "1. Agregar libro \n"
    menu += "2. Eliminar libro \n"
    menu += "3. Mostrar libros \n"
    menu += "4. Listar libros \n"
    menu += "5. Organizacion libros \n"
    menu += "6. Salir \n \n"
    menu += "Elija una opcion"
    opcion = parseInt(prompt(menu));
    switch (opcion) {
        case 1:
            agregarLibro();
            break;
        case 2:
            eliminarLibro();
            break;
        case 3:
            mostrarLibros();
            break;
        case 4:
            menu1 = "Lista de libros \n\n"
            menu1 += "1. Titulo \n"
            menu1 += "2. Autor \n"
            menu1 += "3. Paginas \n"
            menu1 += "4. Ubicacion \n"
            menu1 += "5. Formato \n"
            menu1 += "6. Fecha \n"
            menu1 += "7. Peso \n"
            menu1 += "8. Idioma \n"
            menu1 += "9. Isbn \n"
            menu1 += "10. Descripicion \n"
            menu1 += "11. Descuento \n\n"
            menu1 += "Elija una opcion"
            opcion1 = parseInt(prompt(menu1))
            switch (opcion1) {
                case 1:
                    let mostrar = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            precio: libros.precio,
                            editorial: libros.editorial
                        }
                    })
                    console.table(mostrar)
                    break;
                case 2:
                    let autor = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            descripcion: libros.descripcion
                        }
                    })
                    console.table(autor)
                    break;
                case 3:
                    let paginas = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            paginas: libros.paginas,
                            precio: libros.precio,
                            formato: libros.formato
                        }
                    })
                    console.table(paginas)
                    break;
                case 4:
                    let ubicacion = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            ubicacion: libros.ubicacion,
                            paginas: libros.paginas
                        }
                    })
                    console.table(ubicacion)
                    break;
                case 5:
                    let formato = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            precio: libros.precio,
                            formato: libros.formato
                        }
                    })
                    console.table(formato)
                    break;
                case 6:
                    let fecha = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            precio: libros.precio
                        }
                    })
                    console.table(fecha)
                    break;
                case 7:
                    let peso = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            precio: libros.precio,
                            peso: libros.peso
                        }
                    })

                    console.table(peso)
                    break;
                case 8:
                    let idioma = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            idioma: libros.idioma,
                            descripcion: libros.descripcion
                        }
                    })
                    console.table(idioma)
                    break;
                case 9:
                    let isbn = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            precio: libros.idioma
                        }
                    })
                    console.table(isbn)
                    break;
                case 10:
                    let descripcion = libros.map(libros => {
                        return {
                            titulo: libros.titulo,
                            descripcion: libros.descripcion
                        }
                    })
                    console.table(descripcion)
                    break;
                case 11:
                    let descuento = libros.map(libros => {
                        return {
                            ...libros,
                            descuento: "20%"
                        }
                    })

                    let mostrardescuento = descuento.map(libros => {
                        return {
                            titulo: libros.titulo,
                            autor: libros.autor,
                            editorial: libros.editorial,
                            precio: libros.precio,
                            descuento: libros.descuento
                        }
                    })
                    console.table(mostrardescuento)
                    break;
                default:
                    console.log("Elija un numero valido")
            }
            break;
        case 5:
            menu2 = "Organizacion de libros \n\n"
            menu2 += "1. Libros con precio mayor a 50 \n"
            menu2 += "2. Libros con mas de 500 paginas de mayor a menor \n"
            menu2 += "3. Libros con las paginas de mayor a menor \n"
            menu2 += "4. Libros con precio mayor a 11 \n"
            menu2 += "5. Libros con menos de 100 paginas \n"
            menu2 += "6. Libros con precio mayor a 20 \n "
            menu2 += "7. Libros por titulo,autor,editorial,paginas ordenadas mayor a menor \n \n"
            menu2 += "Elija una opcion"
            opcion2 = parseInt(prompt(menu2))
            switch (opcion2) {
                case 1:
                    let mayora50 = libros.filter(libros => {
                        return libros.precio > 50
                    })
                    console.table(mayora50)
                    break;
                case 2:
                    let librosorganizados = libros.map(libros => {
                            return {
                                titulo: libros.titulo,
                                autor: libros.autor,
                                editorial: libros.editorial,
                                paginas: libros.paginas
                            }
                        })
                        .filter(libros => {
                            return libros.paginas > 500
                        })
                        .sort((a, b) => b.paginas - a.paginas)
                    console.table(librosorganizados)
                    break;
                case 3:
                    let paginasmayoramenor = libros.sort((a, b) => b.paginas - a.paginas)
                    console.table(paginasmayoramenor)
                    break;
                case 4:
                    let librosorganizadosprecio = libros.map(libros => {
                            return {
                                titulo: libros.titulo,
                                autor: libros.autor,
                                precio: libros.precio
                            }
                        })
                        .filter(libros => {
                            return libros.precio > 11
                        })
                    console.table(librosorganizadosprecio)
                    break;
                case 5:
                    let librosorganizadospaginas = libros.map(libros => {
                            return {
                                titulo: libros.titulo,
                                autor: libros.autor,
                                editorial: libros.editorial,
                                paginas: libros.paginas
                            }
                        })
                        .filter(libros => {
                            return libros.paginas < 100
                        })
                    console.table(librosorganizadospaginas)
                    break;
                case 6:
                    let librosorganizadosmayor20 = libros.map(libros => {
                            return {
                                titulo: libros.titulo,
                                autor: libros.autor,
                                precio: libros.precio
                            }
                        })
                        .filter(libros => {
                            return libros.precio > 20
                        })
                        .sort((a,b)=>b.precio-a.precio)
                    console.table(librosorganizadosmayor20)
            break;
            case 7:
                let librosorganizadospaginasmayor = libros.map(libros => {
                    return {
                        titulo: libros.titulo,
                        autor: libros.autor,
                        editorial: libros.editorial,
                        paginas: libros.paginas
                    }
                })
                .sort((a, b) => b.paginas - a.paginas)
            console.table(librosorganizadospaginasmayor)
            }
            break
        case 6: {
            console.log("Hasta luego");
            break;
        }
        default:
            "Elija un numero valido"
    }
} while (opcion !== 6);

function eliminarLibro() {
    let tituloLibroEliminar = prompt("Ingrese el título del libro que desea eliminar: ");
    for (let i = 0; i < libros.length; i++) {
        if (libros[i].titulo === tituloLibroEliminar) {
            libros.splice(i, 1);
            console.log("Libro " + tituloLibroEliminar + " eliminado con éxito!");
            return console.log();
        }
    }
    console.log(`No se encontró el libro "${tituloLibroEliminar}"`);
}

function agregarLibro() {
    let nuevoLibro = {
        titulo: prompt("Ingrese el título del libro: "),
        autor: prompt("Ingrese el autor del libro: "),
        genero: prompt("Ingrese el género del libro: "),
        idioma: prompt("Ingrese el idioma del libro: "),
        precio: parseFloat(prompt("Ingrese el precio del libro: ")),
        formato: prompt("Ingrese el formato del libro: "),
        isbnn: prompt("Ingrese el isbnn del libro: "),
        descripcion: prompt("Ingrese la descripción del libro: "),
        estado: prompt("Ingrese el estado del libro (nuevo/uso): "),
        ubicacion: prompt("Ingrese la ubicación del libro: "),
        fecha_publicacion: prompt("Ingrese la fecha de publicación del libro: "),
        editorial: prompt("Ingrese la editorial del libro: "),
        paginas: parseInt(prompt("Ingrese el número de páginas del libro: ")),
        dimensiones: [parseInt(prompt("Ingrese el ancho del libro: ")), parseInt(prompt("Ingrese la profundidad del libro: ")), parseInt(prompt("Ingrese la altura del libro: "))],
        peso: parseInt(prompt("Ingrese el peso del libro: "))
    };
    libros.push(nuevoLibro);
    console.log("Libro agregado con éxito!");
}

function mostrarLibros() {
    for (let i = 0; i < libros.length; i++) {
        console.log(`Título: ${libros[i].titulo}\n Autor: ${libros[i].autor}\n Genero:${libros[i].genero}\n Idioma: ${libros[i].idioma}\n Precio: ${libros[i].precio}\n Formato: ${libros[i].formato}\n isbnn: ${libros[i].isbnn}\n Descripcion: ${libros[i].descripcion}\n Estado: ${libros[i].estado}\n Ubicacion ${libros[i].ubicacion}\n Fecha de publicacion ${libros[i].fecha_publicacion}\n Editorial: ${libros[i].editorial}\n Paginas: ${libros[i].paginas}\n Dimensiones${libros[i].dimensiones}\n Peso: ${libros[i].peso}`);
    }
}
